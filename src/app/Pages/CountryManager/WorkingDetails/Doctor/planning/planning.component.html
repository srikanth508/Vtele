<app-loader *ngIf="loader==true"></app-loader>
<app-sms></app-sms>
<app-toastpopup [messageID]="messageID" [typeofPopUp]="typeofPopUp" *ngIf="showPopup==1"></app-toastpopup>
<div class="container-fluid headercard card-hover headerspace">
    <div class="row">
        <div class="col-lg-8">
            <h5 class="headings">{{labels.doctorPlanning}}</h5>
        </div>
        <div class="col-lg-4 buttonsss">
            <button class="save" routerLink="/countrymanager/PlanningDetails">{{labels.add}}</button>
        </div>

    </div>
</div>
<br>
<div class="container-fluid card card-hover">
    <div class="row">
        <div class="col-lg-3">
            <div class="form-floating mb-3">
                <input type="email" class="form-control inputfield" id="floatingInput" placeholder="Search"
                    [(ngModel)]="term">
                <label for="floatingInput" class="floatingLabel">{{labels.search}}</label>
            </div>
        </div><br>
        <div class="col-lg-3">
            <ng-multiselect-dropdown [placeholder]="selectDoctor" [settings]="docdd" [data]="doctorlist"
                (onSelect)="GetDoctorID($event)">
            </ng-multiselect-dropdown>
        </div>
        <div class="col-lg-6 tableoverflow">
            <div class="btn-group">
                <button type="button" class="btn color">{{labels.inClinic}}</button>
                <button type="button" class="btn button2">{{labels.video}}</button>
                <button type="button" class="btn button3">{{labels.homeVisit}}</button>
                <button type="button" class="btn button4">{{labels.notAvailable}}</button>
                <button type="button" class="btn button5">{{labels.meeting}}</button>
            </div>
        </div>
    </div>
    <div class="row ">
        <div class="col-lg-12 tableoverflow">
            <table class="table table-striped">
                <tr>
                    <th>{{labels.timings}}</th>
                    <th>{{labels.monday}}</th>
                    <th>{{labels.tuesday}}</th>
                    <th>{{labels.wednesday}}</th>
                    <th>{{labels.thursday}}</th>
                    <th>{{labels.friday}}</th>
                    <th>{{labels.saturday}}</th>
                    <th>{{labels.sunday}}</th>
                </tr>
                <tr *ngFor="let details of Timings|filter:term">
                    <td>{{details.slotname}}</td>
                    <td [style.background-color]="details.mondayColor" style="color:white">{{details.monday}}<br>
                        <label *ngIf="details.mondayappointmentID!=6&&details.mondayappointmentID!=4">{{details.mondayFees|number:'1.2-2'|noComma}}
                           DH</label>
                        <br>
                        <img src="assets/Icons/edit.png" data-bs-toggle="modal" data-bs-target="#edittest"
                            (click)="GetDay1List(details)">
                    </td>
                    <td [style.background-color]="details.tuesdayColor" style="color:white">{{details.tuesday}}<br>
                        <label *ngIf="details.tuesdayAppointmentID!=6&&details.tuesdayAppointmentID!=4">
                            {{details.tuesdayFees|number:'1.2-2'|noComma}}DH</label> <br>
                        <img src="assets/Icons/edit.png" data-bs-toggle="modal" data-bs-target="#edittest"
                            (click)="GetDay2List(details)">

                    </td>
                    <td [style.background-color]="details.wednesdayColor" style="color:white">{{details.wednesday}}<br>
                        <label *ngIf="details.wednesdayAppointmentID!=6&&details.wednesdayAppointmentID!=4">
                            {{details.wednessdayFees|number:'1.2-2'|noComma}}DH</label> <br>

                        <img src="assets/Icons/edit.png" data-bs-toggle="modal" data-bs-target="#edittest"
                            (click)="GetDay3List(details)">

                    </td>
                    <td [style.background-color]="details.thursdayColor" style="color:white">{{details.thursday}}<br>
                        <label
                            *ngIf="details.thursdayAppointmentID!=6&&details.thursdayAppointmentID!=4">{{details.thursdayFees|number:'1.2-2'|noComma}}
                           DH</label>
                        <br>

                        <img src="assets/Icons/edit.png" data-bs-toggle="modal" data-bs-target="#edittest"
                            (click)="GetDay4List(details)">

                    </td>
                    <td [style.background-color]="details.fridayColor" style="color:white">{{details.friday}}<br>
                        <label
                            *ngIf="details.fridayAppointmentID!=6&&details.fridayAppointmentID!=4">{{details.fridayFees|number:'1.2-2'|noComma}}
                           DH</label>
                        <br>

                        <img src="assets/Icons/edit.png" data-bs-toggle="modal" data-bs-target="#edittest"
                            (click)="GetDay5List(details)">

                    </td>
                    <td [style.background-color]="details.saturdayColor" style="color:white">{{details.saturday}}<br>
                        <label
                            *ngIf="details.saturdayAppintmentID!=6&&details.saturdayAppintmentID!=4">{{details.satdayFees|number:'1.2-2'|noComma}}
                           DH</label>
                        <br>

                        <img src="assets/Icons/edit.png" data-bs-toggle="modal" data-bs-target="#edittest"
                            (click)="GetDay6List(details)">

                    </td>
                    <td [style.background-color]="details.sundayColor" style="color:white">{{details.sunday}}<br>
                        <label *ngIf="details.sundayAppointmentID!=6&&details.sundayAppointmentID!=4">
                            {{details.sundayFees|number:'1.2-2'|noComma}}DH</label> <br>

                        <img src="assets/Icons/edit.png" data-bs-toggle="modal" data-bs-target="#edittest"
                            (click)="GetDay7List(details)">

                    </td>
                </tr>
            </table>
        </div>
    </div>
    <br>
</div>
<br>










<div class="modal fade" id="edittest" data-bs-backdrop="static" data-bs-keyboard="false" tabindex="-1"
    aria-labelledby="staticBackdropLabel" aria-hidden="true">
    <div class="modal-dialog">
        <div class="modal-content card" >
            <div class="modal-header">
                <h5 class="modal-title" id="staticBackdropLabel">{{labels.edit}}</h5>
                <button type="button" class="btn-close" data-bs-dismiss="modal" aria-label="Close"></button>
            </div>
            <div class="modal-body "  [@enter] [@leave]>
            
                    <div class="row">
                        <div class="col-lg-12">
                            <input type="radio" [(ngModel)]="appointmentypeid" name="appointmentypeid" [value]="1">
                            &nbsp;
                           {{labels.inClinic}} &nbsp;
                            <input type="radio" [(ngModel)]="appointmentypeid" name="appointmentypeid" [value]="2">
                            &nbsp;
                           {{labels.video}} &nbsp;
                            <input type="radio" [(ngModel)]="appointmentypeid" name="appointmentypeid" [value]="4">
                            &nbsp;
                            {{labels.notAvailable}}&nbsp;
                            <input type="radio" [(ngModel)]="appointmentypeid" name="appointmentypeid" [value]="6">
                            &nbsp;
                            {{labels.meeting}}&nbsp;
                            <!-- <input type="radio" [(ngModel)]="appointmentypeid" name="appointmentypeid" [value]="6"> &nbsp;
                {{labels[0].meeting}} -->
                        </div>
                    </div>
                    <br>
                    <div class="row">
                        <div class="col-lg-2"></div>
                        <div class="col-lg-8">
                            <div class="form-floating mb-3" *ngIf="appointmentypeid!=4&&appointmentypeid!=6">
                                <input type="email" class="form-control inputfield" id="floatingInput"
                                    placeholder="Hospital Name" [(ngModel)]="fees" name="fees">
                                <label for="floatingInput" class="floatingLabel">{{labels.fees}}(DH)</label>
                            </div>
                        </div>
                 
                    </div><br>
                    <div class="row">
                        <div class="col-lg-4">
                        </div>
                        <div class="col-lg-4">
                            <button type="button" data-dismiss="modal" class="save"
                                (click)="Updateslots()">{{labels.update}}</button>
                        </div>
                        <div class="col-lg-4"></div>
                    </div><br>
               
                <div class="modal-footer">
                    <button type="button" class="close" data-bs-dismiss="modal">{{labels.back}}</button>
                </div>
            </div>
        </div>
    </div>
</div>



<!-- <div id="edittest" class="modal fade" role="dialog">
    <div class="modal-dialog modal-lg">
      <div class="modal-content modal-lg">
        <div class="modal-header">
          <h4 class="modal-title" >Edit</h4>
          <button type="button" class="close" data-dismiss="modal">&times;</button>
        </div>
        <div class="modal-body">
          <div class="row">
            <div class="col-lg-12" style="margin-left: 125px;">
              <input type="radio" [(ngModel)]="appointmentypeid" name="appointmentypeid" [value]="1"> &nbsp;
              InClinic &nbsp;
              <input type="radio" [(ngModel)]="appointmentypeid" name="appointmentypeid" [value]="2"> &nbsp;
              Video &nbsp;
              <input type="radio" [(ngModel)]="appointmentypeid" name="appointmentypeid" [value]="4"> &nbsp;
              Not Available&nbsp;
              <input type="radio" [(ngModel)]="appointmentypeid" name="appointmentypeid" [value]="6"> &nbsp;
              Meeting&nbsp;

            </div>
          </div>
          <br>
          <div class="row">
            <div class="col-lg-1">
            </div>
            <div class="col-lg-2">
              <label *ngIf="appointmentypeid!=4&&appointmentypeid!=6">Fees :</label>
            </div>
            <div class="col-lg-3">
              <input type="text" *ngIf="appointmentypeid!=4&&appointmentypeid!=6" class="form-control" [(ngModel)]="fees"
               name="fees" placeholder="Fees">
            </div>
            <div class="col-lg-1" *ngIf="appointmentypeid!=4&&appointmentypeid!=6">
             DH
            </div>
          </div><br>
          <div class="row">
            <div class="col-lg-4">
            </div>
            <div class="col-lg-3">
              <button type="button" data-dismiss="modal" class="btn btn-block btncolor"
                (click)="Updateslots()">Update</button>
            </div>
            <div class="col-lg-4">
            </div>
          </div>
        </div>
      </div>
    </div>
  </div> -->